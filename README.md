# CRM-система для онлайн-школы

Проект CRM-системы для онлайн-школы, реализованный с использованием следующих технологий:

- React
- Redux Toolkit
- Material-UI
- TypeScript
- express
- sequelize
- postgresql
- jwt-tokens
- docker

## Запуск

Для запуска проекта, скачайте docker, затем, в корневой папке выполните:

```bash
docker-compose up
```

## Функционал

### Авторизация

Авторизация проходит по jwt-токенам, в payload токена зашиты:

- id
- email
- role
- rights

### Workers (Работники)

Сущность "Работник" содержит информацию о себе (номер и т.д.) и роль в CRM..

- Добавлять нового пользователя может только пользователь с правом "create-worker".
- Изменять информацию о пользователе могут пользователи с правами "update-worker".
- Доступ к странице с работниками может иметь пользователь с правом "workers-section"

### Clients (Клиенты)

Сущность "Клиент" содержит информацию о себе (номер и т.д.), количество купленных и оставшихся занятий, комментарии, статус клиента.

- Добавлять нового клиента может только пользователь с правом "create-client".
- Изменять информацию о клиенте может  пользователь с правом "update-client".
- Добавлять комментарии на страницу может пользователь с правом "create-note".
- Доступ к странице с клиентами может иметь пользователь с правом "clients-section"

### Leads (Лиды)

На ней отображаются клиенты со всеми статусами по колонкам, можно перекидывать клиента на следующий статус.

- Доступ к странице с клиентами может иметь пользователь с правом "leads-section"

### Roles (Роли)

Роль это контейнер для прав(Rights), который присваивают работникам.

- Работать с ролями может только пользователь с правом "all"

## Как зайти в аккаунт
При первом запуске проекта в базу данных мигрируют начальные данные, в том числе, суперпользователь:

Админ:
  - Логин: 'admin'
  - Пароль: 'admin'

## Права

Вот список прав с пояснениями:
  - 'client-section' - дает доступ к странице с клиентами
  - 'workers-section' - дает доступ к странице с работниками
  - 'leads-section' - дает доступ к странице с лидами
  - 'all' - дает доступ ко всему и позволяет работать с ролями
  - 'create-worker' - дает доступ к созданию нового работника
  - 'create-client' - дает доступ к созданию нового клиента
  - 'update-worker' - дает доступ к редактированию работника
  - 'update-client' - дает доступ к редактированию клиента
  - 'create-note' - дает доступ к созданию комментариев на странице клиента
  - 'delete-worker' - дает доступ к удалению работника
  - 'delete-client' - дает доступ к удалению клиента
